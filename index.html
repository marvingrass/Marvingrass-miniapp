<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Marvingrass Exchange</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
* { margin:0; padding:0; box-sizing:border-box; font-family: Arial, sans-serif; }
body { background: #0f172a; color:white; padding:20px; }
.container { max-width:400px; margin:auto; }
.card { background:#1e293b; border-radius:15px; padding:20px; margin-top:20px; box-shadow:0 0 20px rgba(0,0,0,0.3); }
h2 { text-align:center; margin-bottom:10px; }
.subtitle { text-align:center; color:#94a3b8; margin-bottom:20px; }
.switch { display:flex; background:#0f172a; border-radius:10px; padding:5px; margin-bottom:20px; }
.switch button { flex:1; padding:10px; border:none; background:none; color:#94a3b8; font-size:16px; border-radius:8px; }
.switch .active { background:#3b82f6; color:white; }
.label { font-size:14px; color:#94a3b8; margin-bottom:5px; }
input, select { width:100%; padding:12px; border-radius:10px; border:none; margin-bottom:15px; font-size:16px; background:#0f172a; color:white; }
.submit { width:100%; padding:14px; border:none; border-radius:10px; background:#22c55e; color:white; font-size:18px; font-weight:bold; }
.footer { text-align:center; margin-top:20px; color:#64748b; font-size:13px; }
</style>
</head>

<body>

<div class="container">
    <div class="card">
        <h2>Marvingrass Exchange</h2>
        <div class="subtitle">Обмен валют и USDT</div>

        <div class="switch">
            <button id="buyBtn" class="active" onclick="setType('buy')">Купить</button>
            <button id="sellBtn" onclick="setType('sell')">Продать</button>
        </div>

        <div class="label">Сумма</div>
        <input id="amount" type="number" placeholder="Введите сумму">

        <div class="label">Отдаёте</div>
        <select id="from">
            <option>RUB</option>
            <option>KZT</option>
            <option>USDT</option>
        </select>

        <div class="label">Получаете</div>
        <select id="to">
            <option>USDT</option>
            <option>RUB</option>
            <option>KZT</option>
        </select>

        <button class="submit" onclick="sendRequest()">Создать заявку</button>
    </div>

    <div class="footer">
        Оператор обработает заявку вручную
    </div>
</div>

<script>
const tg = window.Telegram.WebApp;
tg.expand();

let type = "buy";

function setType(t) {
    type = t;
    document.getElementById("buyBtn").classList.remove("active");
    document.getElementById("sellBtn").classList.remove("active");
    if(t === "buy") document.getElementById("buyBtn").classList.add("active");
    else document.getElementById("sellBtn").classList.add("active");
}

function sendRequest() {
    const amount = document.getElementById("amount").value;
    const from = document.getElementById("from").value;
    const to = document.getElementById("to").value;

    if(!amount) { alert("Введите сумму"); return; }

    const data = { type:type, amount:amount, from:from, to:to };
    tg.sendData(JSON.stringify(data));
    alert("✅ Заявка отправлена оператору");
}
</script>

</body>
</html>